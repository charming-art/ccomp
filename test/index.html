<script type="module">
  import * as cm from "../src/index.js";

  const app = cm.app();

  app
    .data(Array.from({ length: 240 }, (_, i) => i))
    .map((_, i, data) => (i * Math.PI * 2) / data.length)
    .shape(cm.circle, {
      x: {
        value: (t) => Math.cos(t) * Math.cos(t * 3),
        range: [15, app.width() - 30],
      },
      y: {
        value: (t) => Math.sin(t) * Math.cos(t * 3),
        range: [15, app.height() - 30],
      },
      r: {
        value: (_, i) => i,
        range: [1, 15],
      },
    });

  document.body.appendChild(app.render().node());
</script>
